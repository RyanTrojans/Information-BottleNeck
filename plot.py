import matplotlib.pyplot as plt
import numpy as np
import pandas as pd
import statsmodels.api as sm
from statsmodels.multivariate.manova import MANOVA
from statsmodels.formula.api import ols
from statsmodels.stats.anova import anova_lm
import scipy.stats as stats


def plot_info_plane():
    # inputs_outputs_arr = np.load('results/ob_infoNCE_06_22/infoNCE_MI_log_inputs_vs_outputs.npy'
    #                              , allow_pickle=True)
    # Y_outputs_arr = np.load('results/ob_infoNCE_06_22/infoNCE_MI_log_Y_vs_outputs.npy'
    #                         , allow_pickle=True)
    inputs_outputs_arr_clean2 = [1.5510766506195068, 1.5686571598052979, 1.5784471035003662, 1.5995619297027588, 1.5834460258483887,
                          1.5425431728363037, 1.5478336811065674, 1.5044598579406738, 1.4850947856903076, 1.500030279159546,
                          1.4377100467681885, 1.4187875986099243, 1.4038610458374023, 1.450364372253418, 1.3957085609436035,
                          1.3487049341201782, 1.368064045906067, 1.3240113258361816, 1.391929030418396, 1.3542333841323853,
                          1.3138632774353027, 1.3098844289779663, 1.3520551919937134, 1.3184857368469238, 1.317063808441162,
                          1.3152484893798828, 1.2714730501174927, 1.2783974409103394, 1.2489142417907715, 1.2947101593017578,
                          1.2868571281433105, 1.1839030981063843, 1.250828504562378, 1.2166483402252197, 1.2204711437225342,
                          1.2361668348312378, 1.2343599796295166, 1.24418044090271, 1.1807798147201538, 1.2179791927337646,
                          1.1837259531021118, 1.2311229705810547, 1.1841869354248047, 1.1822904348373413, 1.1826945543289185,
                          1.1298733949661255, 1.235054850578308, 1.2023699283599854, 1.1899158954620361]
    Y_outputs_arr_clean2 = [0.45981565117836, 0.5585111975669861, 0.6177294254302979, 0.6252527236938477, 0.6973293423652649,
                     0.7403113842010498, 0.7560679316520691, 0.8069162368774414, 0.7949481010437012, 0.8785698413848877,
                     0.8708155155181885, 0.8482345938682556, 0.8866157531738281, 0.9013532996177673, 0.956153392791748,
                     0.9424552917480469, 0.9045855402946472, 0.9573976397514343, 0.9516662359237671, 0.9308348894119263,
                     0.9722671508789062, 0.9635522365570068, 0.9158207774162292, 0.9337123036384583, 0.9523804187774658,
                     0.9471632242202759, 1.0039700269699097, 1.0126984119415283, 0.9339125156402588, 0.9522855281829834,
                     1.0087205171585083, 0.9319906830787659, 0.9250243306159973, 0.927897572517395, 0.9803200364112854,
                     0.9748790860176086, 0.9732776284217834, 0.9984373450279236, 1.0122429132461548, 0.9727978706359863,
                     1.0004019737243652, 0.9700800180435181, 0.97385333776474, 1.0018025636672974, 0.9944064617156982,
                     0.96359783411026, 0.9943919777870178, 0.9715192317962646, 1.0008783340454102]
    inputs_outputs_arr_clean1 = [1.2682468891143799, 1.291677017211914, 1.3226466655731201, 1.3721271753311157,
                                 1.3813424110412598, 1.4308326244354248, 1.3706541061401367, 1.3915904760360718,
                                 1.3585703372955322, 1.3280664682388306, 1.3045384883880615, 1.2809869050979614,
                                 1.2672134637832642, 1.2844820022583008, 1.3216068744659424, 1.2920851707458496,
                                 1.2335883378982544, 1.2135223150253296, 1.2267329692840576, 1.2351449728012085,
                                 1.2396831512451172, 1.2365556955337524, 1.1946989297866821, 1.208174228668213,
                                 1.245796799659729, 1.1921826601028442, 1.2431108951568604, 1.198748230934143,
                                 1.164466381072998, 1.1820530891418457, 1.174813151359558, 1.1683392524719238,
                                 1.1666665077209473, 1.1601190567016602, 1.1683449745178223, 1.1666029691696167,
                                 1.1883690357208252, 1.1632159948349, 1.1421467065811157, 1.153660535812378,
                                 1.1611464023590088, 1.1123902797698975, 1.1149826049804688, 1.1182924509048462,
                                 1.1471240520477295, 1.1758291721343994, 1.1585290431976318, 1.1089324951171875,
                                 1.0942338705062866
                                 ]
    Y_outputs_arr_clean1 = [0.4020410478115082, 0.4590683579444885, 0.4882280230522156, 0.5154265761375427,
                            0.5478208661079407, 0.583468496799469, 0.6518700122833252, 0.686634361743927,
                            0.738006055355072, 0.7603673338890076, 0.7634035348892212, 0.7233098149299622,
                            0.7285804748535156, 0.7838624119758606, 0.7763224244117737, 0.8093582391738892,
                            0.769822895526886, 0.8195716142654419, 0.7830605506896973, 0.8080965280532837,
                            0.8181362152099609, 0.8319358825683594, 0.7945940494537354, 0.8353519439697266,
                            0.799428403377533, 0.8499808311462402, 0.8521825671195984, 0.8092507123947144,
                            0.849263072013855, 0.8299562931060791, 0.8720486164093018, 0.877214252948761,
                            0.8615499138832092, 0.8450717926025391, 0.830560028553009, 0.8406895399093628,
                            0.8609189987182617, 0.8606158494949341, 0.8794631958007812, 0.9126219749450684,
                            0.880029022693634, 0.8825072050094604, 0.8843202590942383, 0.8618162870407104,
                            0.8340107798576355, 0.8833492994308472, 0.8637136220932007, 0.9307337999343872,
                            0.9000929594039917]
    inputs_outputs_arr_clean0 = [2.7415928840637207, 2.7524309158325195, 2.7931299209594727, 2.8282241821289062,
                                 2.773092031478882, 2.637676239013672, 2.554624080657959, 2.570420503616333,
                                 2.4469046592712402, 2.4223597049713135, 2.393880844116211, 2.306312084197998,
                                 2.3777308464050293, 2.3005480766296387, 2.2708473205566406, 2.252262592315674,
                                 2.19498348236084, 2.2189619541168213, 2.184391498565674, 2.144284725189209,
                                 2.1065001487731934, 2.134408473968506, 2.12563419342041, 2.0928573608398438,
                                 2.1051719188690186, 2.1069037914276123, 2.0446999073028564, 2.0522966384887695,
                                 2.037580966949463, 2.0274014472961426, 2.029208183288574, 1.9641501903533936,
                                 1.9672763347625732, 2.02476167678833, 1.9845036268234253, 1.9244707822799683,
                                 1.9506440162658691, 1.9304676055908203, 1.9249446392059326, 1.9304492473602295,
                                 1.9247429370880127, 1.9063434600830078, 1.9226737022399902, 1.8714773654937744,
                                 1.8746533393859863, 1.8231725692749023, 1.8545185327529907, 1.7843921184539795,
                                 1.818196415901184]
    Y_outputs_arr_clean0 = [1.0711668729782104, 1.15031898021698, 1.1494964361190796, 1.1964662075042725,
                            1.2941144704818726, 1.3673458099365234, 1.3957903385162354, 1.4383091926574707,
                            1.4497530460357666, 1.4961320161819458, 1.5323463678359985, 1.535593867301941,
                            1.5222285985946655, 1.5420036315917969, 1.5248758792877197, 1.5322532653808594,
                            1.5688748359680176, 1.636500358581543, 1.5974398851394653, 1.6165863275527954,
                            1.574010968208313, 1.6080400943756104, 1.632477045059204, 1.591186285018921,
                            1.6353871822357178, 1.6395189762115479, 1.6325185298919678, 1.6631348133087158,
                            1.69627046585083, 1.729461431503296, 1.7662367820739746, 1.6922656297683716,
                            1.6631728410720825, 1.6841233968734741, 1.7057669162750244, 1.6642204523086548,
                            1.7302272319793701, 1.7278006076812744, 1.6936976909637451, 1.7411561012268066,
                            1.7747845649719238, 1.7157396078109741, 1.7660354375839233, 1.786625862121582,
                            1.8030719757080078, 1.6962140798568726, 1.727658748626709, 1.8015586137771606,
                            1.9035221338272095
                            ]
    inputs_outputs_arr_clean010 = [1.8818354606628418, 1.8754305839538574, 1.8993133306503296, 1.9457343816757202,
                                   1.9227421283721924, 1.9863615036010742, 1.9707534313201904, 1.944602131843567,
                                   1.9943745136260986, 2.029170513153076, 2.0652475357055664, 2.057224750518799,
                                   2.0685784816741943, 2.0500271320343018, 2.0096399784088135, 1.9855687618255615,
                                   1.9236994981765747, 1.9143970012664795, 1.9386391639709473, 1.929025411605835,
                                   1.9557371139526367, 2.0174243450164795, 1.927414894104004, 1.9067171812057495,
                                   1.90870201587677, 1.8859050273895264, 1.9220476150512695, 1.8819453716278076,
                                   1.8739993572235107, 1.8759185075759888, 1.8808737993240356, 1.8139798641204834,
                                   1.7929630279541016, 1.8260128498077393, 1.842376708984375, 1.7779667377471924,
                                   1.8822565078735352, 1.8370649814605713, 1.8310437202453613, 1.7858526706695557,
                                   1.7819693088531494, 1.781704306602478, 1.7564713954925537, 1.771493673324585,
                                   1.7642288208007812, 1.7955368757247925, 1.7696847915649414, 1.7752381563186646,
                                   1.7221076488494873, 1.7695574760437012, 1.7214349508285522, 1.701566219329834,
                                   1.8253382444381714, 1.7133839130401611, 1.7161210775375366, 1.7489190101623535,
                                   1.732776165008545, 1.6746946573257446, 1.6879613399505615, 1.749467372894287,
                                   1.6462069749832153, 1.6827898025512695, 1.7079259157180786, 1.6622323989868164,
                                   1.6726658344268799, 1.675347089767456, 1.6628727912902832, 1.7178056240081787,
                                   1.668713927268982, 1.6688604354858398, 1.6676394939422607, 1.6366366147994995,
                                   1.674792766571045, 1.6805751323699951, 1.6113078594207764, 1.646878957748413,
                                   1.6426665782928467, 1.6737993955612183, 1.6546108722686768, 1.6883171796798706,
                                   1.6417670249938965, 1.645627737045288, 1.574738621711731, 1.602432370185852,
                                   1.579918622970581, 1.577530860900879, 1.6039721965789795, 1.5598887205123901,
                                   1.6132745742797852, 1.605638027191162, 1.6333880424499512, 1.614953637123108,
                                   1.6181796789169312, 1.6306241750717163, 1.5633286237716675, 1.5825071334838867,
                                   1.5473062992095947, 1.6357277631759644, 1.556992530822754]
    Y_outputs_arr_clean010 = [0.3854856491088867, 0.5129877328872681, 0.5737265348434448, 0.6156973242759705,
                              0.6503137350082397, 0.6370083093643188, 0.701850414276123, 0.7234461903572083,
                              0.739213764667511, 0.7743189334869385, 0.8524339199066162, 0.8922683000564575,
                              0.9406317472457886, 0.9625528454780579, 0.9444538950920105, 0.9927173852920532,
                              1.0195988416671753, 0.9707388877868652, 0.9937646389007568, 1.044490098953247,
                              1.0495407581329346, 1.057511329650879, 1.0239347219467163, 1.0447468757629395,
                              1.0240660905838013, 1.126327633857727, 1.0823270082473755, 1.122738003730774,
                              1.0679353475570679, 1.1488932371139526, 1.05211341381073, 1.124609112739563,
                              1.0806803703308105, 1.1806460618972778, 1.0841431617736816, 1.1097465753555298,
                              1.1040703058242798, 1.1294476985931396, 1.135847806930542, 1.12149977684021,
                              1.1849229335784912, 1.0974544286727905, 1.1253747940063477, 1.0872465372085571,
                              1.2000982761383057, 1.1096622943878174, 1.1578865051269531, 1.2106492519378662,
                              1.1381251811981201, 1.1685905456542969, 1.1679346561431885, 1.1807985305786133,
                              1.1383068561553955, 1.1744757890701294, 1.1686252355575562, 1.1728227138519287,
                              1.1486531496047974, 1.1507610082626343, 1.1425013542175293, 1.1642853021621704,
                              1.1443471908569336, 1.2074922323226929, 1.1562923192977905, 1.1320550441741943,
                              1.1396671533584595, 1.098031997680664, 1.0915595293045044, 1.1167100667953491,
                              1.1943657398223877, 1.200746774673462, 1.2007466554641724, 1.203399658203125,
                              1.2206512689590454, 1.1934306621551514, 1.194035291671753, 1.147641658782959,
                              1.1467530727386475, 1.2098912000656128, 1.250119924545288, 1.1416780948638916,
                              1.280698537826538, 1.235722541809082, 1.210784673690796, 1.158797025680542,
                              1.2556486129760742, 1.2114070653915405, 1.1806542873382568, 1.2812526226043701,
                              1.2779123783111572, 1.131044626235962, 1.2523940801620483, 1.2526178359985352,
                              1.1492643356323242, 1.2852401733398438, 1.3257189989089966, 1.2140889167785645,
                              1.2730555534362793, 1.2346364259719849, 1.1702167987823486]
    inputs_outputs_arr_clean011 = [1.8626363277435303, 1.8918251991271973, 1.9055428504943848, 1.8587040901184082,
                                   1.920851469039917, 1.8647890090942383, 1.8282887935638428, 1.8793809413909912,
                                   1.775125503540039, 1.7582107782363892, 1.745502233505249, 1.7460362911224365,
                                   1.6445608139038086, 1.7094969749450684, 1.6479182243347168, 1.658050298690796,
                                   1.6650720834732056, 1.6294794082641602, 1.6023167371749878, 1.6726291179656982,
                                   1.6127961874008179, 1.593997836112976, 1.5800368785858154, 1.569396734237671,
                                   1.5522183179855347, 1.587815284729004, 1.6230711936950684, 1.5555135011672974,
                                   1.5714449882507324, 1.467435598373413, 1.5251195430755615, 1.5233393907546997,
                                   1.4968676567077637, 1.43984055519104, 1.4890339374542236, 1.4968812465667725,
                                   1.483865737915039, 1.4813175201416016, 1.4632868766784668, 1.5130729675292969,
                                   1.4250375032424927, 1.4929099082946777, 1.4404902458190918, 1.4281131029129028,
                                   1.4012882709503174, 1.4202162027359009, 1.3672871589660645, 1.4582664966583252,
                                   1.4091891050338745, ]
    Y_outputs_arr_clean011 = [0.4730148911476135, 0.5969804525375366, 0.6363489031791687, 0.6733412742614746, 0.7343173027038574,
                              0.8049582242965698, 0.8136128187179565, 0.8857618570327759, 0.9149579405784607, 0.9471195936203003,
                              0.9533708095550537, 1.0044736862182617, 1.0466545820236206, 1.058521032333374, 1.0176794528961182,
                              1.0439937114715576, 1.0057682991027832, 0.9855520725250244, 1.0784368515014648, 1.0123775005340576,
                              1.073306679725647, 1.052032232284546, 1.0700956583023071, 1.1515626907348633, 1.0923092365264893,
                              1.0935311317443848, 1.1134960651397705, 1.0881633758544922, 1.0568127632141113, 1.1730226278305054,
                              1.120304822921753, 1.0850346088409424, 1.0708200931549072, 1.100413203239441, 1.153300166130066,
                              1.1175549030303955, 1.127967119216919, 1.0478068590164185, 1.1309473514556885, 1.0998166799545288,
                              1.0972599983215332, 1.1284689903259277, 1.0531762838363647, 1.1813184022903442, 1.1591649055480957,
                              1.1913564205169678, 1.2002514600753784, 1.2212190628051758, 1.2078509330749512
                              ]
    inputs_outputs_arr_clean100 = [1.3246822357177734, 1.3006463050842285, 1.2592296600341797, 1.199509859085083,
                                   1.166757345199585, ]
    inputs_outputs_arr_clean012 = [1.4166568517684937, 1.4457900524139404, 1.4743294715881348, 1.5190372467041016,
                                   1.5721635818481445, 1.5846538543701172, 1.501807451248169, 1.5293302536010742,
                                   1.4998373985290527, 1.5077065229415894, 1.4521918296813965, 1.406114101409912,
                                   1.4126213788986206, 1.4024989604949951, 1.3864631652832031, 1.3853840827941895,
                                   1.3692209720611572, 1.3702418804168701, 1.4057557582855225, 1.3475807905197144,
                                   1.383151888847351, 1.369956374168396, 1.3405745029449463, 1.3192704916000366,
                                   1.3279707431793213, 1.3290550708770752, 1.3381459712982178, 1.2955279350280762,
                                   1.2870835065841675, 1.349324107170105, 1.3148196935653687, 1.3112075328826904,
                                   1.3297617435455322, 1.3452712297439575, 1.2676068544387817, 1.2546253204345703,
                                   1.3436977863311768, 1.305131196975708, 1.3018640279769897, 1.2750270366668701,
                                   1.2908601760864258, 1.2576708793640137, 1.270506501197815, 1.2420953512191772,
                                   1.2772083282470703, 1.248725414276123, 1.25179922580719, 1.2342439889907837,
                                   1.2537460327148438,
                                   ]
    Y_outputs_arr_clean012 = [0.4765750765800476, 0.5266921520233154, 0.5388965606689453, 0.5868623852729797,
                               0.6559112668037415, 0.6914765238761902, 0.7437453269958496, 0.7828961610794067,
                               0.8644796013832092, 0.8371378779411316, 0.8556219339370728, 0.8810446262359619,
                               0.8263925313949585, 0.855204164981842, 0.8866737484931946, 0.8901844620704651,
                              0.9002203345298767, 0.9336824417114258, 0.9638085961341858, 0.8917142152786255,
                              0.9696307182312012, 0.9645209312438965, 0.9606719613075256, 0.9413989782333374,
                              0.9234578013420105, 0.9300698041915894, 0.8837485909461975, 0.9626010656356812,
                              0.9942950010299683, 0.9701445698738098, 0.9733887910842896, 0.9846214652061462,
                              0.9522991180419922, 1.0346720218658447, 0.9651728272438049, 0.9448367953300476,
                              0.9833706021308899, 0.9975282549858093, 1.0044736862182617, 1.0466545820236206,
                              1.058521032333374, 1.0176794528961182, 1.052032232284546, 1.0850346088409424,
                              1.0923092365264893, 1.1175549030303955, 1.127967119216919, 1.1309473514556885,
                              1.1309473514556885
                               ]
    inputs_outputs_arr_5_clean = [1.4773360872268677, 1.5250371170043945, 1.5628985738754272, 1.5832183647155762, 1.5926997756958008, 1.5065906047821045, 1.5415294170379639, 1.530841588973999, 1.5212326049804688,
                             1.5185561180114746, 1.5445919036865234, 1.4662153720855713, 1.4522206783294678,
                             1.4418355226516724, 1.4429707527160645, 1.3894078731536865, 1.3564295768737793,
                             1.4183350801467896, 1.3990331888198853, 1.3971879482269287, 1.3259758949279785,
                             1.393073320388794, 1.4126269817352295, 1.361882209777832, 1.4038002490997314,
                             1.3484599590301514, 1.3955190181732178, 1.3529081344604492, 1.3411831855773926,
                             1.2355005741119385, 1.235780954360962, 1.2223811149597168, 1.2169376611709595,
                             1.256081223487854, 1.1916329860687256, 1.1933358907699585, 1.173006534576416,
                             1.1182500123977661, 1.2204022407531738, 1.2171692943572998, 1.2204437255859375,
                             1.2032845306396484, 1.1808269023895264, 1.1813228130340576, 1.2126283645629883,
                             1.1955343866348267, 1.1846387386322021, 1.1673309707641602, 1.1577042055130005
                             ]
    inputs_outputs_arr_5_poison = [1.7988603115081787, 1.8368377685546875, 1.8653262853622437, 1.8980932235717773,
                              1.9993034601211548,
                              1.9826538562774658, 1.9335646629333496, 1.9476019144058228, 1.9011447429656982,
                              1.9265921115875244, 1.8531842231750488, 1.8561517000198364, 1.8473906517028809,
                              1.8168871402740479, 1.714063286781311, 1.7587107419967651, 1.7696136236190796,
                              1.7200889587402344, 1.7657109498977661, 1.7203998565673828, 1.7634681463241577,
                              1.6799471378326416, 1.6831005811691284, 1.6458947658538818, 1.6384954452514648,
                              1.5780253410339355, 1.6947863101959229, 1.6483904123306274, 1.6417503356933594,
                              1.6928722858428955, 1.5534858703613281, 1.550546407699585, 1.5697200298309326,
                              1.5350536108016968, 1.5574764013290405, 1.5034252405166626, 1.5094778537750244,
                              1.4892628192901611, 1.491431713104248, 1.4725793600082397, 1.468098521232605,
                              1.4485447406768799, 1.4237995147705078, 1.4690815210342407, 1.451743245124817,
                              1.5104351043701172, 1.452998399734497, 1.4643943309783936, 1.4222122430801392,]

    # poison Initial point, Turning Point, Converge Point
    sample_1 = [[0.346, 0.053], [0.362, 0.08], [0.152, 0.11]]
    sample_2 = [[0.349, 0.051],[0.374, 0.062],[0.175, 0.098]]
    sample_3 = [[0.346, 0.023], [0.362, 0.68], [0.152, 0.96]]
    sample_4 = [[0.349, 0.022],[0.368, 0.072],[0.15, 0.12]]
    sample_5 = [[0.330, 0.051], [0.372, 0.072], [0.174, 0.094]]
    sample_6 = [[0.348, 0.021], [0.370, 0.068], [0.158, 0.11]]
    sample_7 = [[0.348, 0.018], [0.360, 0.064], [0.152, 0.98]]
    sample_8 = [[0.358, 0.054], [0.368, 0.076], [0.172, 0.10]]
    sample_9 = [[0.352, 0.052], [0.378, 0.082], [0.178, 0.11]]
    sample_10 = [[0.322, 0.048], [0.358, 0.086], [0.169, 0.18]]
    mean_value = [[0.3438, 0.0393], [0.3614, 0.0713], [0.1632, 0.1982]]

    # clean class Initial point, Turning Point, Converge Point
    sample_1 = [[0.236, 0.043], [0.262, 0.05], [0.142, 0.081]]
    sample_2 = [[0.239, 0.041], [0.264, 0.046], [0.155, 0.088]]
    sample_3 = [[0.236, 0.042], [0.257, 0.052], [0.152, 0.86]]
    sample_4 = [[0.259, 0.042], [0.270, 0.052], [0.151, 0.82]]
    sample_5 = [[0.260, 0.040], [0.272, 0.051], [0.144, 0.084]]
    sample_6 = [[0.238, 0.039], [0.258, 0.055], [0.148, 0.081]]
    sample_7 = [[0.268, 0.040], [0.288, 0.051], [0.142, 0.088]]
    sample_8 = [[0.228, 0.039], [0.242, 0.056], [0.142, 0.082]]
    sample_9 = [[0.252, 0.041], [0.262, 0.052], [0.148, 0.080]]
    sample_10 = [[0.262, 0.040], [0.278, 0.056], [0.149, 0.078]]
    mean_value = [[0.2488, 0.0412], [0.2643, 0.0521], [0.1463, 0.0829]]

    # print(inputs_outputs_arr_clean1.shape, Y_outputs_arr_clean1.shape)  # (11, ) (11, 100)
    print(len(Y_outputs_arr_clean012))
    info_plane = np.empty([49, 2])
    for idx in range(49):
        info_plane[idx, 0] = np.mean(inputs_outputs_arr_5_clean[idx])
        info_plane[idx, 1] = np.mean(Y_outputs_arr_clean010[idx])
    # x轴: inputs, Y轴: outputs
    df = pd.DataFrame(columns=['Epoch', 'I(X;T)', 'I(T;Y)'])
    df['Epoch'] = np.arange(0, 98, 2)
    df['I(X;T)'] = info_plane[:, 0]
    df['I(T;Y)'] = info_plane[:, 1]
    fig, ax = plt.subplots()
    sca = ax.scatter(x=df['I(X;T)'], y=df['I(T;Y)'], c=df['Epoch'], cmap='summer')
    ax.set_xlabel('I(X;T)')
    ax.set_ylabel('I(T;Y)')
    fig.colorbar(sca, label="Epoch", orientation="vertical")
    fig.show()


def test():
    arr = np.load(r'figs-inputs-vs-outputs/infoNCE.npy')
    print(arr.shape)
    pass


def manovaAnalyze():
    # 读取数据
    data = pd.read_csv('poison_clean.csv')
    print(data.dtypes)

    exog = data[['x']]
    endog = data[['intial_x', 'initial_y', 'turning_x', 'turning_y', 'conv_x', 'conv_y']].astype(float)

    # 进行MANOVA分析
    maov = MANOVA(endog, exog)
    print(maov.mv_test())


def annovaAnalyze():
    # Annova
    data = pd.read_csv('annova.csv')
    print(data.dtypes)
    # annova
    f_statistic, p_value = stats.f_oneway(data['intial_x'], data['initial_y'], data['turning_x'], data['turning_y'], data['conv_x'], data['conv_y'])

    print('F statistic:', f_statistic)
    print('P value:', p_value)

if __name__ == '__main__':
    #plot_info_plane()
    # test()
    manovaAnalyze()
    annovaAnalyze()
